<!DOCTYPE html>
<!--<html style="background-color: rgba(247,247,247,.5)">-->
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="css/mui.min.css" rel="stylesheet" />
		<!--App自定义的css-->
		<link rel="stylesheet" type="text/css" href="css/mui.picker.css" />
		<link rel="stylesheet" type="text/css" href="css/mui.poppicker.css" />
		<style>
			body,
			html {
				background-color: rgba(0, 0, 0, 0.1);
			}
		</style>
	</head>

	<body>

	</body>

	<script type="text/javascript" src="js/mui.min.js"></script>
	<script type="text/javascript" src="js/city.data-3.js"></script>
	<script type="text/javascript" src="js/mui.picker.js"></script>
	<script type="text/javascript" src="js/mui.poppicker.js"></script>
	<script type="text/javascript">
		mui.plusReady(function() {
			var self = plus.webview.currentWebview();
			var cityPicker3 = new mui.PopPicker({
				layer: 3
			});
			cityPicker3.setData(cityData3);
			cityPicker3.show(function(items) {
				var provinceCode = (items[0] || {}).value;
				var provinceName = (items[0] || {}).text;
				var cityCode = (items[1] || {}).value;
				var cityName = (items[1] || {}).text;
				var areaCode = (items[2] || {}).value;
				var areaName = (items[2] || {}).text;
				if(cityCode && cityName) {
					var shouye = plus.webview.getWebviewById('tab_shouye.html');
					var main = plus.webview.currentWebview().opener();
					var param = {
						"provinceCode": provinceCode,
						"provinceName": provinceName,
						"cityCode": cityCode,
						"cityName": cityName,
						"areaCode": areaCode,
						"areaName": areaName
					};
					mui.fire(shouye, 'changeCity', param);
					mui.fire(main, 'changeCity', param);
				}
				plus.webview.currentWebview().close();
				mui.back = function() {
					console.log(3)
					// 隐藏弹出层		
					var list = plus.webview.currentWebview().opener();
					list.close();
				}
			})
		});

		mui.back = function() {
			// 隐藏弹出层
			//plus.webview.currentWebview().close();
			var list = plus.webview.currentWebview().opener();
			//			list.setStyle({
			//				mask: "none"
			//			});
			list.close();
		}
		document.addEventListener("tap", function() {
			var list = plus.webview.currentWebview().opener();
			//			list.setStyle({
			//				mask: "none"
			//			});
			plus.webview.currentWebview().close();
		})
	</script>

</html>